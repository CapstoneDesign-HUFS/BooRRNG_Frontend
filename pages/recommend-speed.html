<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>보행속도 설정</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="../css/style.css">
  <link rel="stylesheet" href="../css/pages/recommend-speed.css">
</head>
<body>
  <header id="header"><!-- include.js 삽입 --></header>

  <main class="container py-5 text-center">
    <h5 class="user-summary fw-bold mb-4">
      <u id="userName">홍길동</u> 님을 위한<br>
      <u id="userAge">30대</u> <u id="userGender">남성</u><br>
      평균 보행속도 추천
    </h5>

    <div class="text-start fw-semibold mb-2">최저속도를 설정해주세요</div>
    <div class="d-flex justify-content-center row flex-wrap gap-3 mb-4">
      <div class="speed-box col-4">
        <div class="label-title">걷기</div>
        <input type="number" step="0.1" min="3.0" max="7.0" class="form-control speed-input" id="minWalk" />
        <span class="unit-text">km/h</span>
      </div>
      <div class="speed-box col-4">
        <div class="label-title">경보</div>
        <input type="number" step="0.1" min="4.0" max="8.0" class="form-control speed-input" id="minFastWalk" />
        <span class="unit-text">km/h</span>
      </div>
      <div class="speed-box col-4">
        <div class="label-title">뛰기</div>
        <input type="number" step="0.1" min="5.0" max="9.0" class="form-control speed-input" id="minRun" />
        <span class="unit-text">km/h</span>
      </div>
    </div>

    <div class="text-start fw-semibold mb-2">최고속도를 설정해주세요</div>
    <div class="d-flex row justify-content-center flex-wrap gap-3 mb-4">
      <div class="speed-box col-4">
        <div class="label-title">걷기</div>
        <input type="number" step="0.1" min="4.0" max="8.0" class="form-control speed-input" id="maxWalk" />
        <span class="unit-text">km/h</span>
      </div>
      <div class="speed-box col-4">
        <div class="label-title">경보</div>
        <input type="number" step="0.1" min="5.0" max="9.0" class="form-control speed-input" id="maxFastWalk" />
        <span class="unit-text">km/h</span>
      </div>
      <div class="speed-box col-4">
        <div class="label-title">뛰기</div>
        <input type="number" step="0.1" min="6.0" max="10.0" class="form-control speed-input" id="maxRun" />
        <span class="unit-text">km/h</span>
      </div>
    </div>

    <button class="btn btn-main w-100 rounded-pill mt-4" onclick="saveSpeed()">다음으로</button>
  </main>

  <footer id="footer"><!-- include.js 삽입 --></footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="../js/common.js"></script>

  <script>
    const user = {
      name: localStorage.getItem('userName') || '김민지',
      age: localStorage.getItem('userAgeGroup') || '20대',
      gender: localStorage.getItem('userGender') || '여성',
      speeds: {
        minWalk: localStorage.getItem('minWalk') || 5.0,
        minFastWalk: localStorage.getItem('minFastWalk') || 6.5,
        minRun: localStorage.getItem('minRun') || 7.5,
        maxWalk: localStorage.getItem('maxWalk') || 6.0,
        maxFastWalk: localStorage.getItem('maxFastWalk') || 7.0,
        maxRun: localStorage.getItem('maxRun') || 8.0,
      }
    };

    document.getElementById('userName').textContent = user.name;
    document.getElementById('userAge').textContent = user.age;
    document.getElementById('userGender').textContent = user.gender;

    // 값 주입
    document.getElementById('minWalk').value = user.speeds.minWalk;
    document.getElementById('minFastWalk').value = user.speeds.minFastWalk;
    document.getElementById('minRun').value = user.speeds.minRun;
    document.getElementById('maxWalk').value = user.speeds.maxWalk;
    document.getElementById('maxFastWalk').value = user.speeds.maxFastWalk;
    document.getElementById('maxRun').value = user.speeds.maxRun;

    // 저장
    function saveSpeed() {
      localStorage.setItem('minWalk', document.getElementById('minWalk').value);
      localStorage.setItem('minFastWalk', document.getElementById('minFastWalk').value);
      localStorage.setItem('minRun', document.getElementById('minRun').value);
      localStorage.setItem('maxWalk', document.getElementById('maxWalk').value);
      localStorage.setItem('maxFastWalk', document.getElementById('maxFastWalk').value);
      localStorage.setItem('maxRun', document.getElementById('maxRun').value);
      window.location.href = "index.html"; // 다음 페이지 이동
    }
  </script>
</body>
</html>
